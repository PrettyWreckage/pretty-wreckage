<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Raw Truth | Pretty Wreckage</title>
  <style>
    body {
      margin: 0;
      padding: 3rem 2rem;
      font-family: 'Georgia', serif;
      background: url('raw-truth-bg.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #f4d9e3;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      text-align: center;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      z-index: -1;
    }
    h1 {
      margin-bottom: 0.5rem;
      font-size: 2rem;
    }
    .meta {
      margin-bottom: 1.5rem;
      font-size: 0.95rem;
      font-style: italic;
      color: #fbd6e0;
    }
    .poem-container {
      max-width: 700px;
      background: rgba(0, 0, 0, 0.5);
      padding: 2rem 2.5rem;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(255, 120, 160, 0.3);
      white-space: pre-line;
      line-height: 1.3;
      font-size: 1.15rem;
      margin-bottom: 2.5rem;
      text-align: left;
    }
    #poem-text-1,
    #poem-text-2 {
      max-height: 10em;
      overflow: hidden;
      transition: max-height 0.4s ease;
      white-space: pre-wrap;
    }
    button, .back-button {
      padding: 10px 25px;
      background-color: #ff7cae;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
      margin: 0.5rem;
      text-decoration: none;
      display: inline-block;
    }
    button:hover, .back-button:hover {
      background-color: #ff4a85;
    }
    .comments-section {
      margin-top: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 1rem;
      max-height: 300px;
      overflow-y: auto;
      font-size: 0.9rem;
    }
    .comment {
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      padding: 0.5rem 0;
    }
    .comment .name {
      font-weight: bold;
      color: #ffd1e3;
    }
    .comment .text {
      margin-left: 0.5rem;
      color: #f4d9e3;
    }
    form {
      margin-top: 0.8rem;
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    input[type="text"], textarea {
      flex: 1 1 200px;
      padding: 0.5rem;
      border-radius: 6px;
      border: none;
      font-family: 'Georgia', serif;
      font-size: 1rem;
    }
    textarea {
      resize: vertical;
      min-height: 50px;
    }
    .like-section {
      margin-top: 1rem;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #f4d9e3;
      justify-content: center;
    }
    .like-button {
      background-color: #ff4a85;
      border: none;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      font-size: 20px;
      color: white;
      cursor: pointer;
      line-height: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
    }
    .like-button:hover {
      background-color: #ff7cae;
    }
    .comments-note {
      margin-top: 0.6rem;
      font-size: 0.85rem;
      font-style: italic;
      color: #fbd6e0;
      text-align: center;
    }
  </style>
</head>
<body>

  <h1>Still Searching, Still Unbroken.</h1>
  <div class="meta">
    Date: 2019-01-28<br>
    Mood: Sadness, Longing, Vulnerability.
  </div>

  <div class="poem-container poem-section" id="poem1-container">
    <pre id="poem-text-1">
I’m all kinds of shattered
a tangle of jagged edges and silent screams,
lost in the ruins of my restless mind,
chasing shadows that slip through my dreams.

I’m a storm no one dares to face,
a dark, pulling tide beneath calm seas,
a broken song on endless repeat,
haunted by the quiet of empty keys.

I walk through halls of memories,
where laughter echoes and love once lived,
now just whispers in the cold air,
ghosts of a past I can’t forgive.

Yet somewhere in this endless ache,
beneath the rubble and the pain,
I hold a flicker of fragile hope,
a light that calls me through the rain.

I’m still searching
for a soul just as lost as mine,
one who won’t run when darkness screams,
who sees the cracks and still lets light shine.

Someone who understands the silence,
who hears the screams beneath the calm,
who won’t demand I be fixed or whole,
but loves me perfectly broken and scarred.

Because maybe in this endless night,
two fractured hearts can find their spark
not to mend what’s torn apart,
but to hold the fractures close,
and find grace inside the scars.

I don’t know your name,
or if you even roam
but if you’re out there,
please don’t be afraid to come home.

Because I’m still here,
still broken, still aching
still searching, still hoping,
still waiting for you.
    </pre>
    <button onclick="togglePoem('poem-text-1', this)">Read More</button>

    <div class="like-section">
      <button class="like-button" data-poem="poem1" title="Like this poem">❤️</button>
      <span id="like-count-poem1">0</span> Likes
    </div>

    <div class="comments-section" id="comments-poem1">
      <h3>Comments</h3>
      <div id="comments-list-poem1"></div>
      <form id="comment-form-poem1">
        <input type="text" id="name-poem1" placeholder="Your name" required />
        <textarea id="comment-text-poem1" placeholder="Your comment" required></textarea>
        <button type="submit">Post Comment</button>
      </form>
      <div class="comments-note">
        My beautiful broken souls, comments are hidden from public view to protect privacy and for emotional well-being. Only I can see them.
      </div>
    </div>
  </div>

  <h1>Fragile Echoes</h1>
  <div class="meta">
    Date: 2019-01-29<br>
    Mood: Fearful, Conflicted, Tender and pleading
  </div>

  <div class="poem-container poem-section" id="poem2-container">
    <pre id="poem-text-2">
I flinch when things go right,
as if safety is a thief in the night.
When love knocks soft upon my door,
I deadbolt fast and say, "No more."

I shatter delicate dreams before they grow,
because somewhere deep, I’ve come to know,
I’m not worthy of petals that bloom just for me,
so I burn the garden before it can be free.

Don’t ask me why I run away,
from warmth, from light, from the brightest day.
I flee from kindness like it’s a guise,
a trap disguised in gentle lies.

I say I want someone to stay,
but when they linger, I push away,
handing them reasons, one by one,
to leave the battle I’ve never won.

And still beneath the rubble, beneath the fight,
beneath the walls I build at night,
there’s a whispered plea, soft and low,
for someone to see me, and never go.

So if you hear this fragile call,
please don’t turn your back and walk away at all.
For behind the scars and all my fears,
is a heart that’s longing just to be near.
    </pre>
    <button onclick="togglePoem('poem-text-2', this)">Read More</button>

    <div class="like-section">
      <button class="like-button" data-poem="poem2" title="Like this poem">❤️</button>
      <span id="like-count-poem2">0</span> Likes
    </div>

    <div class="comments-section" id="comments-poem2">
      <h3>Comments</h3>
      <div id="comments-list-poem2"></div>
      <form id="comment-form-poem2">
        <input type="text" id="name-poem2" placeholder="Your name" required />
        <textarea id="comment-text-poem2" placeholder="Your comment" required></textarea>
        <button type="submit">Post Comment</button>
      </form>
      <div class="comments-note">
        My beautiful broken souls, comments are hidden from public view to protect privacy and for emotional well-being. Only I can see them.
      </div>
    </div>
  </div>

<script>
  // Toggle poem expansion
  function togglePoem(poemId, btn) {
    const poem = document.getElementById(poemId);
    if (poem.style.maxHeight && poem.style.maxHeight !== "10em") {
      poem.style.maxHeight = "10em";
      btn.textContent = "Read More";
    } else {
      poem.style.maxHeight = poem.scrollHeight + "px";
      btn.textContent = "Read Less";
    }
  }

  // Like counts stored in localStorage
  function loadLikes(poem) {
    return parseInt(localStorage.getItem('likes_' + poem)) || 0;
  }
  function saveLikes(poem, count) {
    localStorage.setItem('likes_' + poem, count);
  }

  document.querySelectorAll('.like-button').forEach(button => {
    const poem = button.getAttribute('data-poem');
    const countSpan = document.getElementById('like-count-' + poem);
    let likes = loadLikes(poem);
    countSpan.textContent = likes;

    button.addEventListener('click', () => {
      likes++;
      saveLikes(poem, likes);
      countSpan.textContent = likes;
      button.disabled = true; // prevent multiple likes per session
    });
  });

  // Comments storage and display using localStorage

  function loadComments(poem) {
    const commentsJSON = localStorage.getItem('comments_' + poem);
    if (!commentsJSON) return [];
    try {
      return JSON.parse(commentsJSON);
    } catch {
      return [];
    }
  }

  function saveComments(poem, comments) {
    localStorage.setItem('comments_' + poem, JSON.stringify(comments));
  }

  function renderComments(poem) {
    const comments = loadComments(poem);
    const commentsList = document.getElementById('comments-list-' + poem);
    commentsList.innerHTML = '';
    comments.forEach(c => {
      const div = document.createElement('div');
      div.className = 'comment';
      div.innerHTML = `<span class="name">${escapeHTML(c.name)}</span>: <span class="text">${escapeHTML(c.text)}</span>`;
      commentsList.appendChild(div);
    });
  }

  // Simple HTML escaping to prevent injection
  function escapeHTML(str) {
    return str.replace(/[&<>"']/g, function (match) {
      return ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      })[match];
    });
  }

  ['poem1', 'poem2'].forEach(poem => {
    renderComments(poem);
    const form = document.getElementById('comment-form-' + poem);
    form.addEventListener('submit', e => {
      e.preventDefault();
      const nameInput = document.getElementById('name-' + poem);
      const commentInput = document.getElementById('comment-text-' + poem);
      const name = nameInput.value.trim();
      const text = commentInput.value.trim();
      if (name && text) {
        const comments = loadComments(poem);
        comments.push({name, text});
        saveComments(poem, comments);
        renderComments(poem);
        form.reset();
      }
    });
  });
</script>

</body>
</html>
